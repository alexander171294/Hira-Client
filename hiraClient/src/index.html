<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>HiraClient</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script type="text/javascript" src="assets/scripts/snowstorm.js"></script>
  <script type="text/javascript">
    var effectActive = false;
    window.onload = () => {
      const now = new Date();
      if(now.getDate() == 21 && now.getMonth() == 5) { // 21 junio, invierno
        startEventEffectInvierno();
      }
      if(now.getDate() == 20 && now.getMonth() == 2) { // 20 marzo, otoño
        startEventEffectOtono();
      }
      if(now.getDate() == 21 && now.getMonth() == 11) { // 21 diciembre, verano
        startEventEffectVerano();
      }
      if(now.getDate() == 21 && now.getMonth() == 8) { // 21 septiembre, primavera
        startEventEffectPrimavera();
      }
      if(now.getDate() == 25 && now.getMonth() == 7) { // 25 agosto, cumpleaños
        startEventEffectRegalo();
      }
    };
    function startEventEffect() {
      if (!effectActive) {
        snowStorm.snowStick = false;
        snowStorm.flakesMax = 64;
        snowStorm.flakesMaxActive = snowStorm.flakesMax/2;
        snowStorm.start(true, ['assets/eess/star.png']);
        effectActive = true;
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      } else {
        resumeEff();
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      }
    }
    function startEventEffectInvierno() {
      if (!effectActive) {
        snowStorm.start(true);
        effectActive = true;
        setTimeout(() => {
          this.stopEff();
        }, 120000);
      } else {
        resumeEff();
        setTimeout(() => {
          this.stopEff();
        }, 120000);
      }
    }
    function startEventEffectOtono() {
      if (!effectActive) {
        snowStorm.flakesMax = 50;
        snowStorm.flakesMaxActive = snowStorm.flakesMax/2;
        snowStorm.animationInterval = 50;
        snowStorm.vMaxX = 4;
        snowStorm.vMaxY = 2;
        snowStorm.followMouse = false;
        snowStorm.snowStick = false;
        snowStorm.start(true, ['assets/eess/otoño.png', 'assets/eess/otoño2.png', 'assets/eess/otoño3.png']);
        effectActive = true;
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      } else {
        resumeEff();
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      }
    }
    function startEventEffectVerano() {
      if (!effectActive) {
        snowStorm.flakesMax = 50;
        snowStorm.flakesMaxActive = snowStorm.flakesMax/2;
        snowStorm.animationInterval = 50;
        snowStorm.vMaxX = 4;
        snowStorm.vMaxY = 2;
        snowStorm.followMouse = false;
        snowStorm.snowStick = false;
        snowStorm.start(true, 'assets/eess/verano.png');
        effectActive = true;
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      } else {
        resumeEff();
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      }
    }
    function startEventEffectPrimavera() {
      if (!effectActive) {
        snowStorm.flakesMax = 50;
        snowStorm.flakesMaxActive = snowStorm.flakesMax/2;
        snowStorm.animationInterval = 50;
        snowStorm.vMaxX = 4;
        snowStorm.vMaxY = 2;
        snowStorm.followMouse = false;
        snowStorm.snowStick = false;
        snowStorm.start(true, ['assets/eess/primavera.png','assets/eess/primavera2.png','assets/eess/primavera3.png']);
        effectActive = true;
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      } else {
        resumeEff();
        setTimeout(() => {
          this.stopEff();
        }, 60000);
      }
    }
    function stopEff() {
      if (effectActive) {
        const stars = document.getElementsByClassName('specialEffectElement');
        for (let star of stars) {
          star.style.display = 'none';
        }
      }
    }
    function resumeEff() {
      const stars = document.getElementsByClassName('specialEffectElement');
      for (let star of stars) {
        star.style.display = 'block';
      }
      snowStorm.resume();
    }
    function startEventEffectRegalo() {
      if (!effectActive) {
        snowStorm.flakesMax = 50;
        snowStorm.flakesMaxActive = snowStorm.flakesMax/2;
        snowStorm.animationInterval = 50;
        snowStorm.vMaxX = 1;
        snowStorm.vMaxY = 1;
        snowStorm.followMouse = false;
        snowStorm.snowStick = false;
        snowStorm.start(true, [
            'assets/eess/cumple.png',
            'assets/eess/cumple2.png',
            'assets/eess/cumple3.png',
            'assets/eess/cumple4.png',
            'assets/eess/cumple5.png',
            'assets/eess/cumple6.png',
            'assets/eess/cumple7.png',
            'assets/eess/cumple8.png',
            'assets/eess/cumple9.png',
            'assets/eess/cumple10.png']);
        effectActive = true;
      } else {
        snowStorm.resume();
      }
    }
    // startEventEffectInvierno();
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
